server {

    listen 0.0.0.0:%(port)s;
    server_name captive-portal;

    # Disable keep-alives: once authenticated the browser may reuse the connection when going to the initial site.
    keepalive_timeout 0;

    # no need for logs
    access_log off;
    
    location / {
      uwsgi_pass  portal;
      include uwsgi_params;
      uwsgi_param "authenticator_id" "%(authenticator_id)s";
      # uwsgi_param "guest_access" "...";
    }
}
